<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet" type="text/css">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/quasar-framework@^0.16.0/dist/umd/quasar.mat.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/vue@latest/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quasar-framework@^0.16.0/dist/umd/quasar.mat.umd.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/default.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link type="text/css" href="./css/styles.css" media="all" rel="stylesheet" />
    <link type="text/css" href="./css/stickysort.css" media="all" rel="stylesheet" />
    <script text="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
    <title>漫威电影票房总览</title>
</head>
<style>
    body {
        background-color: #a8d8ea;
    }
    
    .q-table-container {
        background-color: #fafafa;
    }
</style>

<body>
    <div style="max-width:1200px;margin:0 auto;">

        <div id="q-app">
            <!-- <q-layout view="lHh Lpr fff" style="max-width:1300px;margin:0 auto;">
                <q-page-container>
                    <my-page></my-page>
                </q-page-container>
            </q-layout> -->
        </div>

        <section class="demo" id="marvel">

            <h2>漫威电影票房总览</h2>
            <table class="q-table q-table-horizontal-separator">
                <thead style="color:white;background-color:teal;">
                    <tr>
                        <th class="text-left">序号</th>
                        <th class="text-left">电影名</th>
                        <th class="text-left sortable">时间<i aria-hidden="true" class="q-icon q-table-sort-icon q-table-sort-icon-left material-icons">arrow_upward</i></th>
                        <th class="text-right sortable"><i aria-hidden="true" class="q-icon q-table-sort-icon q-table-sort-icon-right material-icons">arrow_upward</i>中国票房(千万人民币)</th>
                        <th class="text-right sortable"><i aria-hidden="true" class="q-icon q-table-sort-icon q-table-sort-icon-right material-icons">arrow_upward</i>北美票房(千万美元)</th>
                        <th class="text-right  sortable sorted sort-desc">全球票房(千万美元) <i aria-hidden="true" class="q-icon q-table-sort-icon q-table-sort-icon-right  material-icons">arrow_upward</i></th>
                        <th class="text-right sortable"><i aria-hidden="true" class="q-icon q-table-sort-icon q-table-sort-icon-right material-icons">arrow_upward</i>制作成本(千万美元)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="">
                        <td class="text-left">
                            18
                        </td>
                        <td class="text-left">复仇者联盟3:无限战争</td>
                        <td class="text-left">2018-04-27</td>
                        <td class="text-right">239,053</td>
                        <td class="text-right">65,500</td>
                        <td class="text-right ">200,000</td>
                        <td class="text-right">25,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            17
                        </td>
                        <td class="text-left">复仇者联盟1</td>
                        <td class="text-left">2012-05-04</td>
                        <td class="text-right">56,851</td>
                        <td class="text-right">62,300</td>
                        <td class="text-right ">152,000</td>
                        <td class="text-right">22,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            16
                        </td>
                        <td class="text-left">复仇者联盟2:奥创纪元</td>
                        <td class="text-left">2015-05-01</td>
                        <td class="text-right">146,439</td>
                        <td class="text-right">45,900</td>
                        <td class="text-right ">140,000</td>
                        <td class="text-right">25,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            15
                        </td>
                        <td class="text-left">黑豹</td>
                        <td class="text-left">2018-02-16</td>
                        <td class="text-right">66,258</td>
                        <td class="text-right">69,900</td>
                        <td class="text-right ">135,000</td>
                        <td class="text-right">20,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            14
                        </td>
                        <td class="text-left">钢铁侠3</td>
                        <td class="text-left">2013-05-03</td>
                        <td class="text-right">75,486</td>
                        <td class="text-right">40,900</td>
                        <td class="text-right ">121,000</td>
                        <td class="text-right">20,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            13
                        </td>
                        <td class="text-left">美国队长3:内战</td>
                        <td class="text-left">2016-05-06</td>
                        <td class="text-right">124,634</td>
                        <td class="text-right">33,400</td>
                        <td class="text-right ">115,000</td>
                        <td class="text-right">25,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            12
                        </td>
                        <td class="text-left">蜘蛛侠:英雄归来</td>
                        <td class="text-left">2017-07-07</td>
                        <td class="text-right">77,413</td>
                        <td class="text-right">33,400</td>
                        <td class="text-right ">88,000</td>
                        <td class="text-right">17,500</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            11
                        </td>
                        <td class="text-left">银河护卫队2</td>
                        <td class="text-left">2017-05-05</td>
                        <td class="text-right">68,611</td>
                        <td class="text-right">39,000</td>
                        <td class="text-right ">86,400</td>
                        <td class="text-right">20,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            10
                        </td>
                        <td class="text-left">雷神3:诸神黄昏</td>
                        <td class="text-left">2017-11-03</td>
                        <td class="text-right">74,302</td>
                        <td class="text-right">31,500</td>
                        <td class="text-right ">85,400</td>
                        <td class="text-right">18,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            9
                        </td>
                        <td class="text-left">银河护卫队</td>
                        <td class="text-left">2014-08-01</td>
                        <td class="text-right">59,612</td>
                        <td class="text-right">33,300</td>
                        <td class="text-right ">77,300</td>
                        <td class="text-right">17,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            8
                        </td>
                        <td class="text-left">美国队长2:冬日战士</td>
                        <td class="text-left">2014-04-04</td>
                        <td class="text-right">71,853</td>
                        <td class="text-right">26,000</td>
                        <td class="text-right ">71,400</td>
                        <td class="text-right">17,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            7
                        </td>
                        <td class="text-left">奇异博士</td>
                        <td class="text-left">2016-11-04</td>
                        <td class="text-right">75,170</td>
                        <td class="text-right">23,300</td>
                        <td class="text-right ">67,800</td>
                        <td class="text-right">16,500</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            6
                        </td>
                        <td class="text-left">雷神2:黑暗世界</td>
                        <td class="text-left">2013-11-08</td>
                        <td class="text-right">34,239</td>
                        <td class="text-right">20,600</td>
                        <td class="text-right ">64,500</td>
                        <td class="text-right">17,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            5
                        </td>
                        <td class="text-left">钢铁侠2</td>
                        <td class="text-left">2010-05-07</td>
                        <td class="text-right">17,509</td>
                        <td class="text-right">31,200</td>
                        <td class="text-right ">62,400</td>
                        <td class="text-right">20,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            4
                        </td>
                        <td class="text-left">钢铁侠1</td>
                        <td class="text-left">2008-05-02</td>
                        <td class="text-right">7,779</td>
                        <td class="text-right">31,800</td>
                        <td class="text-right ">58,500</td>
                        <td class="text-right">14,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            3
                        </td>
                        <td class="text-left">蚁人1</td>
                        <td class="text-left">2015-07-17</td>
                        <td class="text-right">67,176</td>
                        <td class="text-right">18,000</td>
                        <td class="text-right ">51,900</td>
                        <td class="text-right">13,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            0
                        </td>
                        <td class="text-left">雷神1</td>
                        <td class="text-left">2011-05-08</td>
                        <td class="text-right">9,786</td>
                        <td class="text-right">18,051</td>
                        <td class="text-right ">44,800</td>
                        <td class="text-right">15,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            2
                        </td>
                        <td class="text-left">美国队长1</td>
                        <td class="text-left">2011-07-22</td>
                        <td class="text-right">6,934</td>
                        <td class="text-right">17,700</td>
                        <td class="text-right ">37,100</td>
                        <td class="text-right">14,000</td>
                    </tr>
                    <tr class="">
                        <td class="text-left">
                            1
                        </td>
                        <td class="text-left">无敌浩克</td>
                        <td class="text-left">2008-06-13</td>
                        <td class="text-right">0</td>
                        <td class="text-right">13,500</td>
                        <td class="text-right ">26,300</td>
                        <td class="text-right">15,000</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>

    <script type="text/x-template" id="my-page">
        <q-page padding>
            <q-table v-show="false" title="漫威电影票房总览" :data="table_data" :columns="columns" row-key="name" :pagination.sync="pagination">
                <q-td slot="body-cell-id" slot-scope="props" :props="props">
                    {{props.row.__index}}
                </q-td>
            </q-table>
        </q-page>
        <q-page padding>
            <q-table title="粒子大小" :data="atom_data" :columns="atom_columns" row-key="name" :pagination.sync="pagination">
                <q-td slot="body-cell-id" slot-scope="props" :props="props">
                    {{props.row.__index}}
                </q-td>
            </q-table>
        </q-page>
    </script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script type="text/javascript" src="js/jquery.stickysort.js"></script>
    <script>
        $('#basic-sort table').stickySort({
            sortable: true
        });
        $('#marvel table').stickySort({
            sortable: true
        });

        Vue.component('my-page', {
            template: '#my-page',
            data: () => ({
                pagination: {
                    sortBy: "global", // 字符串，列“name”属性值
                    descending: true,
                    page: 1,
                    rowsPerPage: 100 // 当前每页显示的行数
                },
                atom_data: [{
                    "name": "雷神1",
                    "size": 20110508,
                }, ],
                atom_columns: [{
                    "name": "name",
                    "label": '名称',
                    "field": "id",
                    "align": "left",
                }, {
                    "name": "size",
                    "label": '大小',
                    "field": "name",
                    "align": "left",
                }],
                columns: [{
                    "name": "id",
                    "label": '序号',
                    "field": "id",
                    "align": "left",
                }, {
                    "name": "name",
                    "label": '电影名',
                    "field": "name",
                    "align": "left",
                }, {
                    "name": "date",
                    "label": "时间",
                    "field": "date",
                    "align": "left",
                    format: date,
                    sortable: true
                }, {
                    "name": "china",
                    "label": "中国票房(千万人民币)",
                    "field": "china",
                    "align": "right",
                    format: formatNum,
                    sortable: true
                }, {
                    "name": "america",
                    "label": "北美票房(千万美元)",
                    "field": "america",
                    "align": "right",
                    format: formatNum,
                    sortable: true
                }, {
                    "name": "global",
                    "label": "全球票房(千万美元) ",
                    "field": "global",
                    "align": "right ",
                    format: formatNum,
                    sortable: true
                }, {
                    "name": "cost",
                    "label": "制作成本(千万美元)",
                    "field": "cost",
                    "align": "right",
                    format: formatNum,
                    sortable: true
                }],
                table_data: [{
                    "name": "雷神1",
                    "date": 20110508,
                    "china": 9786,
                    "america": 18051,
                    "global": 44800,
                    "cost": 15000,
                }, {
                    "name": "无敌浩克",
                    "date": 20080613,
                    "china": 0,
                    "america": 13500,
                    "global": 26300,
                    "cost": 15000,
                }, {
                    "name": "美国队长1",
                    "date": 20110722,
                    "china": 6934,
                    "america": 17700,
                    "global": 37100,
                    "cost": 14000,
                }, {
                    "name": "蚁人1",
                    "date": 20150717,
                    "china": 67176,
                    "america": 18000,
                    "global": 51900,
                    "cost": 13000,
                }, {
                    "name": "钢铁侠1",
                    "date": 20080502,
                    "china": 7779,
                    "america": 31800,
                    "global": 58500,
                    "cost": 14000,
                }, {
                    "name": "钢铁侠2",
                    "date": 20100507,
                    "china": 17509,
                    "america": 31200,
                    "global": 62400,
                    "cost": 20000,
                }, {
                    "name": "雷神2:黑暗世界",
                    "date": 20131108,
                    "china": 34239,
                    "america": 20600,
                    "global": 64500,
                    "cost": 17000,
                }, {
                    "name": "奇异博士",
                    "date": 20161104,
                    "china": 75170,
                    "america": 23300,
                    "global": 67800,
                    "cost": 16500,
                }, {
                    "name": "美国队长2:冬日战士",
                    "date": 20140404,
                    "china": 71853,
                    "america": 26000,
                    "global": 71400,
                    "cost": 17000,
                }, {
                    "name": "银河护卫队",
                    "date": 20140801,
                    "china": 59612,
                    "america": 33300,
                    "global": 77300,
                    "cost": 17000,
                }, {
                    "name": "雷神3:诸神黄昏",
                    "date": 20171103,
                    "china": 74302,
                    "america": 31500,
                    "global": 85400,
                    "cost": 18000,
                }, {
                    "name": "银河护卫队2",
                    "date": 20170505,
                    "china": 68611,
                    "america": 39000,
                    "global": 86400,
                    "cost": 20000,
                }, {
                    "name": "蜘蛛侠:英雄归来",
                    "date": 20170707,
                    "china": 77413,
                    "america": 33400,
                    "global": 88000,
                    "cost": 17500,
                }, {
                    "name": "美国队长3:内战",
                    "date": 20160506,
                    "china": 124634,
                    "america": 33400,
                    "global": 115000,
                    "cost": 25000,
                }, {
                    "name": "钢铁侠3",
                    "date": 20130503,
                    "china": 75486,
                    "america": 40900,
                    "global": 121000,
                    "cost": 20000,
                }, {
                    "name": "黑豹",
                    "date": 20180216,
                    "china": 66258,
                    "america": 69900,
                    "global": 135000,
                    "cost": 20000,
                }, {
                    "name": "复仇者联盟2:奥创纪元",
                    "date": 20150501,
                    "china": 146439,
                    "america": 45900,
                    "global": 140000,
                    "cost": 25000,
                }, {
                    "name": "复仇者联盟1",
                    "date": 20120504,
                    "china": 56851,
                    "america": 62300,
                    "global": 152000,
                    "cost": 22000,
                }, {
                    "name": "复仇者联盟3:无限战争",
                    "date": 20180427,
                    "china": 239053,
                    "america": 65500,
                    "global": 200000,
                    "cost": 25000,
                }],
            }),
        });

        new Vue({
            el: '#q-app',
            data: function() {
                return {
                    version: Quasar.version,
                    drawerState: true
                }
            },
            methods: {
                launch: function(url) {
                    Quasar.utils.openURL(url)
                }
            }
        });

        function date(value) {
            value += "";
            return value.replace(/([\d]{4})([\d]{2})([\d]{2})/, "$1-$2-$3");
        };
        // 数字过滤,返回带千分位的数值
        Vue.filter('num', formatNum);

        function formatNum(value, type) {
            if (value == undefined || value == "") {
                return 0;
            }
            value = value + "";
            var sum = value.split("."); //处理有小数点的情况
            // 返回处理后的值
            var str_n = sum[0] + "";
            var result = "";
            while (str_n.length > 3) {
                result = "," + str_n.slice(-3) + result;
                str_n = str_n.slice(0, str_n.length - 3)
            }
            if (str_n) {
                result = str_n + result
            }
            if (type == undefined) {
                if (sum[1] != undefined) {
                    result = result + "." + sum[1];
                }
            } else {
                if (sum[1] != undefined) {
                    result = result + "." + sum[1];
                } else {
                    result += ".00";
                }
            }

            return result;
        }
    </script>
</body>

</html>