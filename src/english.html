<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="https://www.kaffir-lily.cc/favicon.ico" type="image/x-icon">

    <link href="https://fonts.loli.net/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet" type="text/css">
    <link href="https://lib.baomitu.com/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://lib.baomitu.com/animate.css/3.7.0/animate.min.css" rel="stylesheet">
    <script src="https://lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <title>ğŸ”æ€§æ„Ÿå•è¯,åœ¨çº¿æ’­æŠ¥-è‹±è¯­å•è¯æ‹¼å†™</title>
</head>
<style>
    .index {
        height: calc(100vh - 200px);
        width: 1100px;
        margin: 0 auto;
        background-color: orange;
        text-align: center;
        padding: 80px;
    }
    
    textarea {
        background-color: #fefaec;
    }
    
    h1 {
        color: #fbe8d3;
        font-size: 100px;
        width: 800px;
        margin: 0 auto;
    }
    
    .input {
        margin: 100px auto;
        width: 800px;
    }
    
    body {
        background-color: #c9d6df;
    }
    
    .text_input {
        width: 400px;
        height: 50px;
        border-color: #3c763d;
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        font-size: 40px;
        color: #a82ffc;
        vertical-align: middle;
        text-align: center;
    }
</style>

<body>
    <div calss="big">
        <div class="index">
            <div class="clipped-box">
                <div class="content">
                    <h1 align="center" id="show_word">color</h1>
                </div>
            </div>
            <div class="input">
                <input type="text" class="text_input" id="word_input">
            </div>

        </div>
        <div style="margin:0 auto;width:1100px;" class="">
            <textarea name="" style="width:1100px;" id="word_data" rows="100" onblur="handle()">
disabled
position
relative
absolute
fixed
activate
active
arrow
alpha
building
circle
cursor
display
double
element
filter
horizontal
important
language
navigation
pruple
pointer
dashed
decimal
division
font-family
needle
pause
January
February
March
April
May
June
July
August
September
October
November
December
Monday
Tuesday
Wednesday
Thursday
Friday
Saterday
Sunday
chunk
upgrade
placeholder
validate
column
thread
abstract
finally
interface
extends
switch
throw
protected
private</textarea>
        </div>
    </div>
    <div id="bdtts_div_id">
        <audio id="tts_autio_id" autoplay="autoplay">
                    <source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&aue=wav&ie=UTF-8&spd=7&per=4&pit=9&text=è¯·è¾“å…¥å±•ç¤ºå•è¯" type="audio/mpeg">
                    <embed id="tts_embed_id" height="0" width="0" src="">
                </audio>
    </div>
</body>
<script>
    let num = 0;
    let newArray = new Array();
    $("#word_input").keyup(function(key) {
        let inputWord = $(this).val();
        let showWord = $("#show_word").text();
        console.log(inputWord, showWord);
        if (inputWord == showWord) {
            doTTS(inputWord);
            $(".clipped-box div").click();
            num++;

            $(this).val("");
            if (num >= newArray.length) {
                num = 0;
            }
            $("#show_word").text(newArray[num]);
            $("#show_word").addClass("animated flipInX");

            setTimeout(function() {
                $("#show_word").removeClass("animated flipInX");
            }, 1000);

        }
    });

    $(function() {
        handle()
    });

    function handle() {
        let word = $("#word_data").val().split(/[\n]/);
        newArray = new Array();
        word.forEach(function(v, i) {
            let val = $.trim(v);
            if (val != "") {
                newArray.push(val);
            }
        });
        console.log(newArray);
        num = 0;
        $("#show_word").text(newArray[num]);
    }

    function doTTS(text) {
        var ttsDiv = document.getElementById('bdtts_div_id');
        var ttsAudio = document.getElementById('tts_autio_id');
        var ttsText = text;
        // è¿™æ ·ä¸ºä»€ä¹ˆæ›¿æ¢ä¸äº†æ’­æ”¾å†…å®¹
        /*var ssrcc = 'http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=10&text='+ttsText;
        document.getElementById('tts_source_id').src=ssrcc;*/

        // è¿™æ ·å°±å¯å®ç°æ’­æ”¾å†…å®¹çš„æ›¿æ¢äº†
        ttsDiv.removeChild(ttsAudio);
        var au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
        var sss = '<source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=en&aue=wav&ie=UTF-8&spd=6&per=4&pit=9&text=' + ttsText + '" type="audio/mpeg">';
        var eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
        var au2 = '</audio>';
        ttsDiv.innerHTML = au1 + sss + eee + au2;

        ttsAudio = document.getElementById('tts_autio_id');

        ttsAudio.play();
    }
</script>

</html>